#!/bin/bash

RED='\e[41m'
BLUE='\e[44m'
ORANGE='\e[46m'
NC='\e[0m'
function bootloader_configuration {
PS3="Select bootloader to configure: "
# Gather the results in an array.
dms=("grub" "refind" "systemdboot" "syslinux")

select pick in "${dms[@]}"
do
	case $pick in
		grub)
			sudo nano /etc/default/grub
			sudo update-grub
			break
			;;		
		refind)
			sudo nano /boot/refind_linux.conf
			sudo nano /boot/EFI/refind/refind.conf
			break
			;;		
		systemdboot)
			sudo nano /boot/loader/entries/manjaro.conf
			break
			;;		
		syslinux)
			sudo nano /boot/syslinux/syslinux.cfg
			break
			;;		
		cancel)
			break
	esac
done
}

    while true; do
    clear
    echo ""
    echo -e "                       ::Settings::  "
    echo -e " ┌─────────────────────────────────────────────────────────────┐"
    echo -e " │    1   Pacman settings              2   Mkinitcpio          │"
    echo -e " │    3   Fstab                        4   Sudoers             │"
    echo -e " │    5   Logind                       6   Bootloader          │"    
    echo -e " │    7   Udevil settings              8   Xinitrc             │"
    echo -e " │    9   Setup                        0   Exit                │"
    echo -e " └─────────────────────────────────────────────────────────────┘"
        echo -e "              Select a number and press [Enter]"
    echo ""
    read -s -n1 choix
    case $choix in
        1)
            echo
            sudo nano /etc/pacman.conf
            echo ""
            ;;
        2)
            echo
            sudo nano /etc/mkinitcpio.conf
            echo ""
            ;;
        3)
            echo
            sudo nano /etc/fstab
            echo ""
            ;;
        4)
            echo
            sudo visudo
            echo ""
            ;;
        5)
            echo
            sudo nano /etc/systemd/logind.conf
            echo ""
            ;;
        6)
            echo
            bootloader_configuration
            echo ""
            ;;
        7)
            echo
            sudo nano /etc/udevil/udevil.conf
            echo ""
            ;;
        8)
            echo
            nano ~/.xinitrc
            echo ""
            ;;
        9)
            echo
            system-setup
            echo ""
            ;;
        0)
            clear && exit
            read
            ;;
        *)
            echo -e "$RED Wrong option $NC"
            echo "Wait and try again later..."
            echo ""
            sleep 3
            clear
            ;;
    esac
    done
fi
